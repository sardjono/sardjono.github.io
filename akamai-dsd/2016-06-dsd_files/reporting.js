(function(){var c=(window.AUILoaderRoot)?window.AUILoaderRoot:"/EdgeAuth",b=(function(n){var l=n.style.overflow,m;n.style.overflow="hidden";m=n.clientWidth;n.style.overflow="scroll";m=m-n.clientWidth;n.style.overflow=l;return(m+1)||16})(document.body);if(typeof YAHOO!=="undefined"){function d(o,l){var m=o.getElementsByTagName("a"),n;for(n=0,menuElemsLength=m.length;n<menuElemsLength;n++){m[n].setAttribute("target",l)}}function e(l,p){var m=false,n,o=l.joinOperator;for(n in l.config){if(p[n]&&YAHOO.lang.isArray(l.config[n][p[n]])){if(!m){m=[].concat(l.config[n][p[n]])}else{m=(o=="or")?j(m,l.config[n][p[n]]):f(m,l.config[n][p[n]])}}}return m}function f(q,l){var r=q.sort(),n=l.sort(),t=[],o=0,m=0,p=r.length,s=n.length;while(o<p&&m<s){if(r[o]>n[m]){m++}else{if(r[o]<n[m]){o++}else{t.push(r[o++]);m++}}}return t}function j(r,m){var s=r.sort(),o=m.sort(),l=[],p=0,n=0,q=s.length,t=o.length;while(p<q&&n<t){if(s[p]>o[n]){l.push(o[n++])}else{if(s[p]<o[n]){l.push(s[p++])}else{l.push(s[p++]);n++}}}while(p<q){l.push(s[p++])}while(n<t){l.push(o[n++])}return l}function a(n,l){var m=n._container;while(m&&!(m.getAttribute("data-hidecontainer")!=null||m.tagName.toLowerCase()=="body"||m.tagName.toLowerCase()=="html")){m=m.parentNode}if(m&&m.getAttribute("data-hidecontainer")!=null){YAHOO.util.Dom.setStyle(m,"display",l?"":"none")}}function k(){var n,H,r,x,p,A;function y(I){this._children=[];this._config=null;this._container=I;this._covers=null;this._data=null;this._default={contentURL:null,coversDateFormat:"%b %d %I:%M %p",coversID:null,customData:"customVariables",dataURL:null,endData:"end",err0:"You are offline!! Please Check Your Network.",err204:"There is no data for the time window requested, try to increase the time window or change traffic segment and resubmit.",err400:"Submitted query could not be processed by EdgeControl. Please verify your request url and parameters. If you need assistance, please contact customer care.",err403:"You are not authorized to view the content of this report. Please check with your account administrator if you need to view it.",err404:"There is no data for the time window requested, try to increase the time window or change traffic segment and resubmit.",err500:"EdgeControl encountered an error and could not honor your request, please try again. If problem persists, contact customer care.",errOther:"An unknown error has occurred:",errRptClass:"aui-report-error",errWidgetClass:"aui-widget-error",estimatedDateFormat:["%I:%M %p","%b %d"],estimatedTemplate:"",exportClass:"aui-export",exportMenu:null,loadingClass:"aui-loading",noteID:null,noteData:"noteText",notesURL:null,postLoadHandler:null,realTimeData:"rtwindow",resetID:null,selectedClass:"selected",selectorID:null,startData:"start",suppressClass:"aui-suppress",switcher:null,textCovers:"{0} - {1}.",timeout:0,timeZone:"GMT",timeZoneLabelData:"time_zone",timeZoneOffsetData:"time_zone_offset",urlArgs:null,xOffset:0,onWidgetLoad:null,lang:{decimalPoint:".",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],printButtonTitle:"Print the chart",resetZoom:"",resetZoomTitle:"",thousandsSep:",",weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}};this._export=null;this._notes=null;this._postHandler=null;this._reset=null;this._selector=null;this._switch=null;this.configClass="aui-rpt-config";this.configName="reporting";this.type="aui-widget"}y.prototype={_init:function(K){var J=this,L;this._parent=K;if(this._container){n.generateId(this._container,this.type);this._config=this._getConfigs();p.setOptions({lang:this._config.lang});n.addClass(this._container,this._config.loadingClass);this._createSwitcher();if(this._parent){if(this._config.dataURL&&(this._config.dataURL===this._parent._getDataURL())){this._config.dataURL=null}if(this._config.notesURL&&(this._config.notesURL===this._parent._getNotesURL())){this._config.notesURL=null}}if(this._config.coversID){this._covers=n.get(this._config.coversID)}if(this._config.selectorID){this._selector=n.get(this._config.selectorID);this._config.selectorID=null;if(this._selector&&this._selector.oSelector){this._selector.oSelector.register(this)}}if(this._config.resetID){this._reset=n.get(this._config.resetID);this._config.resetID=null;if(this._reset){this._reset.disabled=true;n.addClass(this._reset,"disabled");H.on(this._reset,"click",this._handleReset,this)}}if(this._config.exportMenu){this._export=n.get(this._config.exportMenu.targetID);if(this._export){n.addClass(this._export,this._config.exportClass);this._export.oDrop=new q(this._export);this._export.oDrop._init(this._config.exportMenu.items,this);d(this._export.oDrop._menu,"_exportIFrameTarget")}}if(this._config.postLoadHandler){this._postLoad=window[this._config.postLoadHandler];this._config.postLoadHandler=null}if(this._config.postLoadErrorHandler){this._postLoadErrorHandler=window[this._config.postLoadErrorHandler];this._config.postLoadErrorHandler=null}if(this._config.contentURL){this._config.contentURL=this._config.contentURL.replace(/&amp;/gi,"&");this.loadView(this._config.contentURL)}else{if(this._config.dataURL){this._config.dataURL=this._config.dataURL.replace(/&amp;/gi,"&");if(this._canFetchData()){x.asyncRequest("GET",this._substituteArgs(this._config.dataURL),{report:this,success:this._loadData,failure:this._handleDataError,timeout:this._config.timeout})}else{a(this,false)}}else{if(L=this._isDataLoadDeferred()){if(this._canFetchData()){if(!L._isRequestInProgress){function I(P,N){var M=this.report;function O(Q){for(var R in Q._reportsToBeRendered){Q._reportsToBeRendered[R]._render()}Q._reportsToBeRendered.length=0}M._deferredDataLoad=false;M._isRequestInProgress=false;N[N.length++]=O;M[P].apply(this,N)}x.asyncRequest("GET",this._substituteArgs(L._config.dataURL),{report:L,isDeferredResult:true,success:function(){I.call(this,"_loadData",arguments)},failure:function(){I.call(this,"_handleDataError",arguments)},timeout:L._config.timeout});L._isRequestInProgress=true}if(!L._reportsToBeRendered){L._reportsToBeRendered=[]}L._reportsToBeRendered.push(J)}else{if(!L._reportsToBeRendered){L._reportsToBeRendered=[]}a(this,false)}}else{if(this._canFetchData()){this._render()}}}}}},_canFetchData:function(O){var K=true,M=false,L,J,N,I;if((L=this._getFilterWidgetConfigOptions())&&(J=this._getWidgetID())){N=e(L,O||this._getURLArgs());if(r.isArray(N)){for(I in N){if(N[I]==J){M=true;break}}if(L.type=="deny"&&M){K=false}else{if(L.type!="deny"&&!M){K=false}}}}return K},_getWidgetID:function(){var I;if(this._config.widgetID){I=this._config.widgetID}else{I=this._parent&&this._parent._getWidgetID()}return I},_handlePostLoad:function(){var I=this;while(I&&!I._postLoad){I=I._parent}if(I&&I._postLoad&&r.isFunction(I._postLoad)){I._postLoad.call(this)}},_handlePostLoadError:function(J){var I=this;while(I&&!I._postLoadErrorHandler){I=I._parent}if(I&&I._postLoadErrorHandler&&r.isFunction(I._postLoadErrorHandler)){I._postLoadErrorHandler.call(this,J)}},_handleReset:function(J,I){I._clearData();this.disabled=true;n.addClass(this,"disabled");I.update()},_render:function(){},_createSwitcher:function(){var J=this._config.switcher,I;if(J){I=n.getAncestorByClassName(this._container,"akam-widget");if(!I){I=this._container}I.oSwitch=new z(I);I.oSwitch._init(r.merge({targetID:this._container.id,composite:true},J))}},_loadData:function(J,N){var K,L,I=this;if(this.report){if(J.status===200){try{K=r.JSON.parse(J.responseText)}catch(M){}if(K){this.report._data=K;if(this.report._config.notesURL){this.report._config.notesURL=this.report._config.notesURL.replace(/&amp;/gi,"&");if(this.updateArgs){L=this.updateArgs}else{L=this.report._getURLArgs()}x.asyncRequest("GET",this.report._substituteArgs(this.report._config.notesURL,L),{updateArgs:this.updateArgs,isDeferredResult:this.isDeferredResult,report:this.report,success:function(O){this.report._loadNotes.call(this,O,N)},timeout:this.report._config.timeout,failure:function(O){this.report._notesFailure.call(this,O,N)}})}else{if(!this.isDeferredResult){this.report._render();this.report._updateChildren(this.updateArgs)}else{if(N&&typeof N=="function"){N(this.report)}}this.report._adjustSwitcher();this.isDeferredResult&&this.updateArgs?setTimeout(function(){I.report._handlePostLoad()},0):this.report._handlePostLoad()}}}else{this.report._handleDataError(J)}}},_loadNotes:function(J,M){var K,I=this;if(this.report){try{K=r.JSON.parse(J.responseText)}catch(L){}if(K){this.report._notes=K;if(!this.isDeferredResult){this.report._render();this.report._updateChildren(this.updateArgs)}else{if(M&&typeof M=="function"){M(this.report)}}this.report._adjustSwitcher();this.isDeferredResult&&this.updateArgs?setTimeout(function(){I.report._handlePostLoad()},0):this.report._handlePostLoad()}else{this._notesFailure()}}},_notesFailure:function(I,J){this.report._render();this.report._updateChildren(this.updateArgs);this.report._handlePostLoad()},_substituteArgs:function(M,K){var J;var I;var L;if(g._getPanelContext()==="top_urls_export"){L=g._getActualData()}if(M){if(K){K=AKAMAI.base.cloneObject(K)}else{K=AKAMAI.base.cloneObject(this._getURLArgs())}for(J in K){if(r.hasOwnProperty(K,J)){K[J]=encodeURIComponent(K[J])}}for(I in L){if(!K.hasOwnProperty(I)){K[I]=encodeURIComponent(L[I])}}M=r.substitute(M,K)}return M},_getDataURL:function(){if(this._config.dataURL){return this._config.dataURL}else{if(this._parent){return this._parent._getDataURL()}}return null},_getNotesURL:function(){if(this._config.notesURL){return this._config.notesURL}else{if(this._parent){return this._parent._getNotesURL()}}return null},_getURLArgs:function(I){var J=this._config.urlArgs;if(!J){J={}}if(this._parent){J=r.merge(this._parent._getURLArgs(),J)}if(this._selector&&this._selector.oSelector){J=r.merge(J,this._selector.oSelector.getArgs())}if(I){J=r.merge(J,I)}return J},_getFilterWidgetConfigOptions:function(){var I;if(this._selector&&this._selector.oSelector){I=this._selector.oSelector._config.widgetFilterConfig}else{if(this._parent){I=this._parent._getFilterWidgetConfigOptions()}}return I},_isDataLoadDeferred:function(){if(this._deferredDataLoad){return this}else{return this._parent&&this._parent._isDataLoadDeferred()}},_getData:function(){var I;if(this._data){I=this._data}else{if(this._parent){I=this._parent._getData()}}return I},_getNotes:function(){var I;if(this._notes){I=this._notes}else{if(this._parent){I=this._parent._getNotes()}}return I},_getCustomVar:function(L,K){var I,J;if(L&&K){J=L[this._config.customData];if(r.isArray(J)){for(I=0;I<J.length;++I){if(J[I].key===K){return J[I].value}}}}return null},_getConfigs:function(){if(this._parent){this._default=r.merge(this._default,this._parent._getConfigs())}if(!this._config){this._config=AKAMAI.base.getAUIConfigs(this._container,this.configClass,this.configName,this._default)}return this._config},_generateCovers:function(M){var K,I,L,J=[];if(M&&this._covers){K=this._config.textCovers;I=this._getCustomVar(M,this._config.timeZoneLabelData);I=(I)?I:this._config.timeZone;L=this._getCustomVar(M,this._config.timeZoneOffsetData);L=(L)?parseInt(L):parseInt(this._config.xOffset);J[0]=p.dateFormat(this._config.coversDateFormat,(parseInt(M[this._config.startData])+L)*1000);J[1]=p.dateFormat(this._config.coversDateFormat,(parseInt(M[this._config.endData])+L)*1000)+" "+I;K=r.substitute(K,J);if(M[this._config.realTimeData]!=null&&M[this._config.realTimeData]<M[this._config.endData]){J[0]=p.dateFormat(this._config.estimatedDateFormat[0],(parseInt(M[this._config.realTimeData])+L)*1000);J[1]=p.dateFormat(this._config.estimatedDateFormat[1],(parseInt(M[this._config.realTimeData])+L)*1000);K+=" "+this._config.estimatedTemplate;K=r.substitute(K,J)}this._covers.innerHTML=K}},_generateNote:function(K){var J,I;J=this._config.noteID?n.get(this._config.noteID):null;if(J){if(K){I=K[this._config.noteData];if(I){J.innerHTML=I;n.removeClass(J,"aui-suppress")}else{J.innerHTML="";n.addClass(J,"aui-suppress")}}else{J.innerHTML="";n.addClass(J,"aui-suppress")}}},_adjustSwitcher:function(){var L,K,N,I,M,J;if(this._switch){M=this._switch._target;I=this._switch._select;J=this._switch._export;if(n.hasClass(M,"akam-widget")){L=M}else{L=n.getElementsByClassName("akam-widget-left",null,M)[0]}if(!L){L=n.getElementsByClassName("akam-widget-right",null,M)[0]}if(!L){L=n.getElementsByClassName("akam-widget",null,M)[0]}if(!L){L=n.getAncestorByClassName(M,"akam-widget-left")}if(!L){L=n.getAncestorByClassName(M,"akam-widget-right")}if(!L){L=n.getAncestorByClassName(M,"akam-widget")}if(L){K=n.getElementsByClassName("sub-title-bar",null,L)[0];if(!K){K=n.getElementsByClassName("title-bar",null,L)[0]}if(K){N=n.getElementsByClassName("rightSide",null,K)[0];if(N){if(N.children.length){if(J){n.insertAfter(J,N.children[N.children.length-1])}n.insertAfter(I,N.children[N.children.length-1])}else{if(J){N.appendChild(J)}N.appendChild(I)}}else{N=document.createElement("div");N.className="rightSide";K.appendChild(N);if(J){N.appendChild(J)}N.appendChild(I)}}else{K=document.createElement("div");K.className="title-bar";L.appendChild(K);N=document.createElement("div");N.className="rightSide";K.appendChild(N);if(J){N.appendChild(J)}N.appendChild(I)}}else{if(J){n.insertBefore(J,this._container)}n.insertBefore(I,this._container)}if(J){n.removeClass(J,this._config.suppressClass)}n.removeClass(I,this._config.suppressClass)}},_clearErrors:function(L){var J,K,I;if(!L){L=this._container}if(L){K=n.getElementsByClassName(this._config.errRptClass,"span",L);for(J=0;J<K.length;++J){I=K[J].parentNode;if(I){I.removeChild(K[J])}}n.removeClass(L,this._config.errWidgetClass);K=n.getElementsByClassName(this._config.errWidgetClass,null,L);n.removeClass(K,this._config.errWidgetClass)}},_handleDataError:function(J,P){var M,N,L,K,O,I=(this.report)?this.report:this;if(I._data){I._data=null}if(I.type!=="aui-report"&&I._container){I._container.innerHTML="";if(I._table){I._table=null}if(I._map){I._map=null}if(I._svg){I._svg=null}if(I._box){I._box=null}}if(P&&typeof P=="function"){P(widget)}if(I._covers){I._covers.innerHTML=""}I._adjustSwitcher();I._render();for(K=0;K<I._children.length;++K){I._children[K].updateArgs=this.updateArgs;if(this.updateArgs&&I._children[K]._config._dataURL&&Widget._children[K].update){I._children[K].update(this.updateArgs)}else{if(I._children[K]._handleDataError){I._children[K]._handleDataError(J)}}}M=I._config["err"+J.status];if(!M){M=I._config.errOther+" "+J.statusText}if(I.type==="aui-report"){L=n.getElementsByClassName("akam-widget",null,I._container)[0];if(!L){L=n.getAncestorByClassName(I._container,"akam-widget")}}N=(L)?L:I._container;O=document.createElement("span");O.className=I._config.errRptClass;O.innerHTML=M;N.appendChild(O);n.addClass(N,I._config.errWidgetClass);n.removeClass(I._container,I._config.loadingClass);I._handlePostLoadError(J)},_updateChildren:function(J){var I;if(J){for(I=0;I<this._children.length;++I){if(this._children[I]&&this._children[I].update){this._children[I].update(J)}}}},_clearData:function(){var I;this._data=null;for(I=0;I<this._children.length;++I){if(this._children[I]&&this._children[I]._clearData){this._children[I]._clearData()}}},success:function(I){n.removeClass(this._container,this._config.suppressClass);this._children=[];this._container.innerHTML=I.responseText;this._adjustSwitcher();this._config=AKAMAI.base.getAUIConfigs(this._container,this.configClass,this.configName,this._config);this._config.onWidgetLoad&&((typeof window[this._config.onWidgetLoad]=="function")&&window[this._config.onWidgetLoad].call(this));this._config.contentURL=null;if(this._config.selectorID){this._selector=n.get(this._config.selectorID);this._config.selectorID=null;if(this._selector&&this._selector.oSelector){this._selector.oSelector.register(this)}}if(this._config.dataURL){this._config.dataURL=this._config.dataURL.replace(/&amp;/gi,"&");if(this._getFilterWidgetConfigOptions()){this._deferredDataLoad=true;this._render()}else{x.asyncRequest("GET",this._substituteArgs(this._config.dataURL),{report:this,success:this._loadData,failure:this._handleDataError,timeout:this._config.timeout})}}else{this._render()}},failure:function(I){n.addClass(this._container,this._config.suppressClass)},update:function(K,L){var J=this,N,M;a(this,true);n.addClass(this._container,this._config.loadingClass);this._clearErrors();if(!this._config.dataURL&&this._data){this._data=null}K=this._getURLArgs(K);if(this._selector&&this._selector.oSelector&&this._selector.oSelector._setEmailWidgetsBasedOnOptions){this._selector.oSelector._setEmailWidgetsBasedOnOptions(K)}if(!L){L=this._config.dataURL||((N=this._isDataLoadDeferred())&&N._config.dataURL)}if(L&&typeof this._deferredDataLoad!="boolean"){if(N){if(K){L=N._substituteArgs(L,K)}if(this._canFetchData(K)){if(!N._isRequestInProgress){function I(R,P){var O=this.report;function Q(S){for(var T in S._reportsToBeRendered){S._reportsToBeRendered[T]._render();S._reportsToBeRendered[T]._adjustSwitcher();S._reportsToBeRendered[T]._updateChildren(K)}S._reportsToBeRendered.length=0}O._deferredDataLoad=false;O._isRequestInProgress=false;O._requestTransaction=null;P[P.length++]=Q;O[R].apply(this,P)}M=x.asyncRequest("GET",L,{updateArgs:K,report:N,isDeferredResult:true,success:function(){if(M==N._requestTransaction){I.call(this,"_loadData",arguments)}},failure:function(){if(M==N._requestTransaction){I.call(this,"_handleDataError",arguments)}},timeout:N._config.timeout});N._isRequestInProgress=true;N._requestTransaction=M}if(!N._reportsToBeRendered){N._reportsToBeRendered=[]}N._reportsToBeRendered.push(J)}else{a(this,false)}}else{if(K){L=this._substituteArgs(L,K)}if(this._canFetchData(K)){x.asyncRequest("GET",L,{updateArgs:K,report:this,success:this._loadData,failure:this._handleDataError,timeout:this._config.timeout})}else{a(this,false)}}}else{if(typeof this._deferredDataLoad=="boolean"){this._deferredDataLoad=true;this._isRequestInProgress=false;this._requestTransaction=null;this._reportsToBeRendered.length=0}this._render();this._adjustSwitcher();this._updateChildren(K)}},loadView:function(J,I){if(J){if(I){if(!this._config.urlArgs){this._config.urlArgs={}}this._config.urlArgs=r.merge(this._config.urlArgs,I)}I=this._getURLArgs();J=this._substituteArgs(J,I);this.timeout=this._config.timeout;x.asyncRequest("GET",J,this)}}};function m(I){m.superclass.constructor.call(this,I);this.type="aui-report"}YAHOO.lang.extend(m,y,{_render:function(){var O=n.getElementsByClassName("aui-report","div",this._container),L=n.getElementsByClassName("aui-chart","div",this._container),M=n.getElementsByClassName("aui-map","div",this._container),J=n.getElementsByClassName("aui-table","div",this._container),N=n.getElementsByClassName("aui-switcher","div",this._container),I=n.getElementsByClassName("aui-report-filter","div",this._container),K;for(K=0;K<O.length;++K){if(!O[K].oReport){O[K].oReport=new m(O[K]);O[K].oWidget=O[K].oReport;O[K].oReport._init(this);this._children.push(O[K].oReport)}}for(K=0;K<L.length;++K){if(!L[K].oChart){L[K].oChart=new v(L[K]);L[K].oWidget=L[K].oChart;L[K].oChart._init(this);this._children.push(L[K].oChart)}}for(K=0;K<M.length;++K){if(!M[K].oMap){M[K].oMap=new u(M[K]);M[K].oWidget=M[K].oMap;M[K].oMap._init(this);this._children.push(M[K].oMap)}}for(K=0;K<J.length;++K){if(!J[K].oTable){J[K].oTable=new B(J[K]);J[K].oWidget=J[K].oTable;J[K].oTable._init(this);this._children.push(J[K].oTable)}}for(K=0;K<N.length;++K){if(!N[K].oSwitch){N[K].oSwitch=new z(N[K]);N[K].oSwitch._init()}}for(K=0;K<I.length;++K){if(!I[K].oFilter){I[K].oFilter=new D(I[K]);I[K].oFilter._init()}}n.removeClass(this._container,this._config.loadingClass)}});function v(I){v.superclass.constructor.call(this,I);this._box=null;this._chartLegend={enabled:false,symbolPadding:5,margin:5,borderColor:"#cccccc",borderRadius:3,backgroundColor:"#ffffff",x:0,y:0,labelFormatter:null,itemStyle:{fontFamily:"Arial, sans-serif",fontSize:"12px",color:"#5f6163"}};this._default=r.merge(this._default,{aggregateData:"aggregate",borderWidth:1,boxIDs:null,boxRootData:"ui_components",boxTitleData:"box_header",boxType:"box_component",boxUnitsData:"box_units",boxValueData:"box_value",chartFullClass:"aui-chart-full",chartPartClass:"aui-chart-part",colors:null,columnNames:[],columns:[],componentType:"table_component",dateColumn:0,disclaimers:["Time in {timeZoneLong}","Estimated data begins at {estTime}"],disclaimersDateFormat:"%I:%M %p",endDatePattern:"end_date",endTimePattern:"end_time",estimatedLabel:"Estimated Data",idData:"id",includeID:"traffic_hits_summary",labelTemplate:"<strong>{y}%</strong>",legendTemplate:"{name}: {value} hits",legendWidth:null,markPeak:true,maxValueColumn:0,nameColumn:0,notesLabel:"Event",peakLabel:"Peak",percentageColumn:2,pieTooltipTemplate:"<strong>{name}</strong>: {y}",resolutionClass:"aui-resolution",resolutionTemplates:{hourPlural:"Resolution {0} hours",hourSingular:"Resolution {0} hour",minPlural:"Resolution {0} mins",minSingular:"Resolution {0} min",secPlural:"Resolution {0} secs",secSingular:"Resolution {0} sec"},rootColNameData:"columnName",rootColsData:"columns",rootData:"ui_components",rowColumnData:"data",rowsData:"table_component_rows",rootRowsData:"rows",scatterPlots:[],showBoxs:false,showDataLabels:false,showLegend:false,showResolution:true,showTooltip:true,spacing:[10,10,15,10],stacking:null,startDatePattern:"start_date",startTimePattern:"start_time",tableClass:"aui-chart-table",timeData:"box_date",timeZoneLong:"Greenwich Mean Time",title:"",toggleID:null,toggleLineClass:"line-view",togglePieClass:"pie-view",toggleTblClass:"table-view",toolTipDecimalPlaces:2,toolTipDecimalPoint:".",toolTipPrecision:4,tooltipTemplate:"<strong>{name}</strong>: {y}<br/>{x}",toolTipThousandsSep:",",type:"area",typeData:"type",valueColumn:1,xAxisType:"datetime",xAxisCategories:null,xAxisCategoryIndex:null,yAxisTitle:"Axis Title",additionalYAxis:null,zoomAll:true,zoomLimit:21600,zoomType:"x",selectable:true});this._estBandConfig={from:new Date(),to:0,color:"#fffaf4"};this._estLineConfig={value:0,color:"#f57131",width:1.5,label:{text:"",x:5,style:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#f57131"}},zIndex:100};this._hcConfig={akam:null,chart:{backgroundColor:"#fff",events:{selection:null},plotBackgroundColor:"#fff",plotBorderColor:"#c1c6cc",plotBorderWidth:1,renderTo:null,spacingTop:10,spacingRight:10,spacingBottom:10,spacingLeft:10,style:{fontFamily:"Arial, sans-serif",fontSize:"11px"},type:"area",zoomType:""},colors:[],credits:{enabled:false},global:{useUTC:true},labels:{items:[],style:{fontFamily:"Arial, sans-serif",color:"#3E576F"}},legend:null,loading:{hideDuration:100,labelStyle:{fontFamily:"Arial, sans-serif",fontWeight:"bold",position:"relative",to:"1em"},showDuration:100,style:{fontFamily:"Arial, sans-serif",position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},plotOptions:{area:{marker:{enabled:false},lineColor:"#114b65",lineWidth:1,shadow:false},column:{borderColor:"#114b65",borderWidth:1},line:{marker:{enabled:false},lineWidth:1},pie:{marker:{enabled:false},center:["50%","50%"],dataLabels:{enabled:false,distance:10,color:"#000000",connectorColor:"#000000",formatter:null}},series:{shadow:false,stacking:null,showInLegend:true,dataLabels:{enabled:false}},scatter:{marker:{enabled:true,symbol:"triangle-down",radius:6,states:{hover:{enabled:true,lineColor:"#ccc"}}}},spline:{}},title:{text:""},xAxis:{gridLineWidth:1,gridLineColor:"#e4e6e9",lineColor:"#758697",maxZoom:240*60*1000,dateTimeLabelFormats:{hour:"%b %e<br/>%I:%M %p",day:"%b %e<br/>%I:%M %p"},labels:{style:{fontFamily:"Arial, sans-serif",color:"#878787",fontSize:"10px",lineHeight:"11px",paddingTop:"6px"}}},yAxis:[],tooltip:{enabled:true,borderRadius:2,backgroundColor:"#3e5670",formatter:null,style:{fontFamily:"Arial, sans-serif",color:"#fff",fontSize:"12px"}},series:[]};this._notesConfig={allowPointSelect:true,type:"scatter",name:"Events",showInLegend:false,lineColor:"#606264",data:[],marker:{enabled:true,symbol:"url("+c+"/ui/lib/aui/current/assets/images/hc_event.png)"},dataLabels:{enabled:false},zIndex:1};this._notesSeries={};this._oChart=null;this._pieLegend={enabled:false,margin:0,symbolPadding:10,align:"right",verticalAlign:"middle",layout:"vertical",borderWidth:0,backgroundColor:"#ffffff",x:0,y:0,labelFormatter:null,itemStyle:{fontFamily:"Arial, sans-serif",fontSize:"12px",color:"#5f6163"}};this._yAxis={gridLineColor:"#e4e6e9",title:{text:"",style:{fontFamily:"Arial, sans-serif",color:"#748596",fontSize:"10px",fontWeight:"normal"}},min:0,lineColor:"#758697",lineWidth:1,labels:{style:{fontFamily:"Arial, sans-serif",color:"#878787",fontSize:"10px",lineHeight:"11px",paddingRight:"6px"},formatter:null}};this._svg=null;this._table=null;this._toggle=null;this.configClass="aui-chart-config";this.configName="chart";this.type="aui-chart";this._chartredrawEvent=new YAHOO.util.CustomEvent("chartredraw");this._viewtoggleEvent=new YAHOO.util.CustomEvent("viewtoggle")}YAHOO.lang.extend(v,y,{_legendFormatter:function(){return r.substitute(this.series.chart.options.akam.legendTemplate,this)},_legendFormatterNoLang:function(){return this.name},_render:function(){var L=AKAMAI.base.cloneObject(this._hcConfig),M=this._getData(),J,K,I=this;L.chart.events.redraw=(function(N){return function(O){N.fire()}})(this._chartredrawEvent);if(M){if(this._config.type){L.chart.type=this._config.type}if(!this._svg){this._svg=document.createElement("div");this._svg.className=this._config.chartFullClass;this._container.appendChild(this._svg)}if(this._config.type!=="pie"){this._svg.className=this._config.chartPartClass}L.chart.renderTo=this._svg;if(this._config.colors){L.colors=this._config.colors}L.chart.plotBorderWidth=this._config.borderWidth;L.chart.spacingTop=this._config.spacing[0];L.chart.spacingRight=this._config.spacing[1];L.chart.spacingBottom=this._config.spacing[2];L.chart.spacingLeft=this._config.spacing[3];L.plotOptions.series.stacking=this._config.stacking;L.tooltip.enabled=this._config.showTooltip;L.plotOptions.series.dataLabels.enabled=this._config.showDataLabels;L.akam=this._config;if(this._oChart&&this._oChart.destroy){this._oChart.destroy()}J=(n.getStyle(this._svg,"display")==="none")?false:true;if(!J){n.setStyle(this._svg,"display","block")}switch(this._config.type){case"pie":this._generatePie(M,L);break;default:this._generateChart(M,L);break}if(!J){n.setStyle(this._svg,"display","")}if(this._config.showBoxs){this._generateBoxs(M)}this._generateCovers(M);this._addResolution(M);if(!this._toggle){this._toggle=n.get(this._config.toggleID);if(this._toggle){H.on(this._toggle,"click",this._handleToggle,this);this._toggle.eTable=n.getElementsByClassName(this._config.toggleTblClass,"li",this._toggle)[0];this._toggle.eChart=n.getElementsByClassName(this._config.toggleLineClass,"li",this._toggle)[0];if(!this._toggle.eChart){this._toggle.eChart=n.getElementsByClassName(this._config.togglePieClass,"li",this._toggle)[0]}n.addClass(this._toggle.eChart,this._config.selectedClass);n.removeClass(this._toggle.eTable,this._config.selectedClass)}}if(this._toggle){if(!this._table){this._table=document.createElement("div");this._table.className=this._config.tableClass;this._container.appendChild(this._table)}K=n.hasClass(this._toggle.eTable,this._config.selectedClass);if(K){n.addClass(this._svg,this._config.suppressClass);n.removeClass(this._table,this._config.suppressClass)}else{n.addClass(this._table,this._config.suppressClass);n.removeClass(this._svg,this._config.suppressClass)}if(this._table){if(K){if(!this._table.oTable){this._table.oTable=new B(this._table);this._table.oTable._init(this)}else{this._table.oTable.update()}}else{this._viewtoggleEvent.unsubscribeAll();this._viewtoggleEvent.subscribe(function(O,N){if(N[0]=="table"){if(!I._table.oTable){I._table.oTable=new B(I._table);I._table.oTable._init(I)}else{I._table.oTable.update()}I._viewtoggleEvent.unsubscribeAll()}})}}}if(this._oChart){this._oChart.akam=this}}else{this._viewtoggleEvent.unsubscribeAll()}this._generateNote(M);n.removeClass(this._container,this._config.loadingClass)},_handleToggle:function(K,I){var J=H.getTarget(K),L=((J===I._toggle.eTable)||(J.parentNode===I._toggle.eTable));H.preventDefault(K);if(L){n.addClass(I._svg,I._config.suppressClass);n.removeClass(I._table,I._config.suppressClass);n.removeClass(I._toggle.eChart,I._config.selectedClass);n.addClass(I._toggle.eTable,I._config.selectedClass)}else{n.addClass(I._table,I._config.suppressClass);n.removeClass(I._svg,I._config.suppressClass);n.addClass(I._toggle.eChart,I._config.selectedClass);n.removeClass(I._toggle.eTable,I._config.selectedClass)}I._viewtoggleEvent.fire(L?"table":"chart")},_pieTooltipFormatter:function(){return r.substitute(this.series.chart.options.akam.pieTooltipTemplate,this.point)},_datalabelFormatter:function(){return r.substitute(this.series.chart.options.akam.labelTemplate,this.point)},_generatePie:function(P,N){var K,J,O={},M,L,I;if(P&&N){N.legend=this._pieLegend;N.legend.enabled=this._config.showLegend;if(N.legend.enabled){N.legend.labelFormatter=this._legendFormatter;if(this._config.legendWidth){N.legend.width=parseInt(this._config.legendWidth)-N.legend.symbolPadding}}M=P[this._config.rootData];if(this._config.title){N.title.text=this._config.title}if(N.tooltip.enabled){N.tooltip.formatter=this._pieTooltipFormatter}if(N.plotOptions.series.dataLabels.enabled){N.plotOptions.pie.dataLabels.formatter=this._datalabelFormatter}N.series.push({type:"pie",name:"default",data:[]});for(K=0;K<M.length;++K){L=M[K];if((!this._config.includeID||this._config.includeID==L[this._config.idData])&&L[this._config.typeData]===this._config.componentType){I=L[this._config.rowsData];for(J=0;J<I.length;++J){O={};O.name=I[J][this._config.nameColumn];O.y=parseFloat(I[J][this._config.percentageColumn]);O.value=Math.round(parseFloat(I[J][this._config.valueColumn])*10)/10;N.series[0].data.push(O)}}}this._oChart=new p.Chart(N)}},_handleSelection:function(K){var M=Math.floor(K.xAxis[0].min),N=Math.floor(K.xAxis[0].max),L=N-M,J={},I=this.akam,O=parseInt(I._config.zoomLimit)*1000;if(L>=O){J[I._config.startDatePattern]=p.dateFormat("%Y%m%d",M);J[I._config.startTimePattern]=p.dateFormat("%H%M",M);J[I._config.endDatePattern]=p.dateFormat("%Y%m%d",N);J[I._config.endTimePattern]=p.dateFormat("%H%M",N);if(I._config.zoomAll){while(I._parent){I=I._parent}}if(I&&I.update){I.update(J);if(I._reset){I._reset.disabled=false;n.removeClass(I._reset,"disabled")}}}return false},_chartToolTipFormatter:function(I,P,K){var M=this.series.name,L=this.point.y,O=p.dateFormat("%m-%d-%Y %I:%M %p",this.point.x),J=this.series.chart.options.akam,N;if(M.toLowerCase()==="peak"){M=J.peakLabel;L=L/1.1}else{if(M.toLowerCase()==="events"){M=J.notesLabel;L=this.point.id}}if(r.isNumber(L)){L=p.numberFormat(L.toPrecision(J.toolTipPrecision),J.toolTipDecimalPlaces,J.toolTipDecimalPoint,J.toolTipThousandsSep)}if(this.series.xAxis.categories){O=this.point.category}if(I._config.customTooltipFormatter){if(typeof I._config.customTooltipFormatter=="string"){I._config.customTooltipFormatter=window[I._config.customTooltipFormatter]}N=I._config.customTooltipFormatter.apply(this,[{name:M,x:O,y:L,value:""},P]);if(N){return N}}return r.substitute(J.tooltipTemplate,{name:M,x:O,y:L,value:""})},_generateChart:function(W,ac){var Y,X,T,K,I,R,O,Z,J,V,M,ab,P=[],L=this._config.xAxisCategoryIndex,U=this._config.columns,Q=this._config.columnNames,N=(this._config.xAxisType==="datetime"),aa=this._yAxis,S;if(W&&ac){ac.xAxis.type=this._config.xAxisType;M=parseInt(W[this._config.aggregateData])*1000;ab=this._getCustomVar(W,this._config.timeZoneOffsetData);ab=(ab)?parseInt(ab):parseInt(this._config.xOffset);ac.legend=this._chartLegend;ac.legend.enabled=this._config.showLegend;if(ac.legend.enabled){ac.legend.labelFormatter=this._legendFormatterNoLang;if(this._config.legendWidth){ac.legend.width=parseInt(this._config.legendWidth)-ac.legend.symbolPadding}n.setStyle(this._container,"height","");J=n.getRegion(this._container);V=Math.round(J.height*1.1)+"px";n.setStyle(this._container,"height",V);if(this._svg){n.setStyle(this._svg,"height",V)}}ac.chart.zoomType=this._config.zoomType;ac.chart.events.selection=this._config.selectable?this._handleSelection:function(ad){ad.preventDefault()};S=this;ac.tooltip.formatter=function(ae,ad){return function(){return S._chartToolTipFormatter.call(this,S,ae,ad)}}(W,ac);if(!U||!U.length){U=[];Q=[];Z=W[this._config.rootColsData];if(Z){for(Y=0;Y<Z.length;++Y){if(Y===this._config.dateColumn){continue}U.push(Y);Q.push(Z[Y][this._config.rootColNameData])}}}for(Y=0;Y<U.length;Y++){ac.series.push({name:Q[Y],data:[]})}aa.title.text=this._config.yAxisTitle;if(this._config.yAxisEndOnTick!=undefined){aa.endOnTick=this._config.yAxisEndOnTick}ac.yAxis.push(aa);if(this._config.additionalYAxis){aa=AKAMAI.base.cloneObject(this._yAxis);aa.title.text=this._config.additionalYAxis.title;aa.opposite=true;if(this._config.additionalYAxis.series&&ac.series[this._config.additionalYAxis.series]){ac.series[this._config.additionalYAxis.series].yAxis=1}ac.yAxis.push(aa)}T=W[this._config.rootRowsData];for(Y=0;Y<T.length;++Y){K=T[Y];if(N){I=(parseInt(K[this._config.rowColumnData][this._config.dateColumn])+ab)*1000;while(R&&I>(R+M)){R=R+M;for(X=0;X<U.length;X++){ac.series[X].data.push([R,0])}}R=I}else{if(L!==null){P.push(K[this._config.rowColumnData][L])}}for(X=0;X<U.length;X++){O=K[this._config.rowColumnData][U[X]];if(O){O=parseFloat(O)}if(N){ac.series[X].data.push([I,O])}else{ac.series[X].data.push(O)}}}if(N){ac.xAxis.min=(W[this._config.startData]+ab)*1000;ac.xAxis.max=(W[this._config.endData]+ab)*1000}else{ac.xAxis.min=W[this._config.startData];ac.xAxis.max=W[this._config.endData];if(P.length){ac.xAxis.categories=P}else{if(this._config.xAxisCategories){ac.xAxis.categories=this._config.xAxisCategories}}}this._oChart=new p.Chart(ac);this._addScatterPlots(W);this._addEstimatedPlot(W);this._addNotes(ac.xAxis.min,ac.xAxis.max,ab);this._markPeak(W,U)}},_addScatterPlots:function(S){var Z,U,J,ac,K,Q,I,M,N,ab,L,O,P,aa,Y,ad,T="circle",X="#fe3e3d",W="#fe3e3d",R=3,V="";if(S&&this._config.scatterPlots&&this._config.scatterPlots.length){ad=this._getCustomVar(S,this._config.timeZoneOffsetData);ad=(ad)?parseInt(ad):parseInt(this._config.xOffset);Q=S[this._config.rootRowsData];J=this._config.scatterPlots;for(Z=0;Z<J.length;++Z){ac=J[Z].column;if(J[Z].symbol){T=J[Z].symbol}if(J[Z].symbolColor){X=J[Z].symbolColor}if(J[Z].symbolRadius){R=J[Z].symbolRadius}if(J[Z].lineColor){W=J[Z].lineColor}if(J[Z].lineLabel){V=J[Z].lineLabel}if(J[Z].labelAlign){P=J[Z].labelAlign}else{P="right"}if(J[Z].labelX){aa=J[Z].labelX}else{if(P==="right"){aa=-5}else{aa=5}}if(J[Z].labelY){Y=J[Z].labelY}else{Y=-3}oMarker={fillColor:X,radius:R,symbol:T};L={value:0,color:W,width:1,dashStyle:"dash",label:{text:V,style:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:W},align:P,x:aa,y:Y},zIndex:1};N=J[Z].name;if(!N){N=S[this._config.rootColsData][ac][this._config.rootColNameData]}K={color:X,type:"scatter",name:N,showInLegend:false,data:[]};for(U=0;U<Q.length;++U){M=parseInt(Q[U][this._config.rowColumnData][ac]);if(M){ab=M;I=(parseInt(Q[U][this._config.rowColumnData][this._config.dateColumn])+ad)*1000;K.data.push({marker:oMarker,x:I,y:M})}}if(J[Z].valueData){O=S.customVariables;for(U=0;U<O.length;++U){if(O[U].key===J[Z].valueData){ab=O[U].value;break}}}if(K.data.length){this._oChart.addSeries(K)}if(ab){L.value=ab;this._oChart.yAxis[0].addPlotLine(L)}}}},_addEstimatedPlot:function(K){var I,J;if(K&&K[this._config.realTimeData]&&K[this._config.realTimeData]<K[this._config.endData]){J=this._getCustomVar(K,this._config.timeZoneOffsetData);J=(J)?parseInt(J):parseInt(this._config.xOffset);I=(K[this._config.realTimeData]+J)*1000;this._estBandConfig.from=I;this._estBandConfig.to=(K[this._config.endData]+J)*1000;this._estLineConfig.value=I;this._estLineConfig.label.text=this._config.estimatedLabel;if(this._config.hasIncompleteData){this._estBandConfig.color="#f4f4f4";this._estLineConfig.color="#777";this._estLineConfig.label.style.color="#777"}this._oChart.xAxis[0].addPlotBand(this._estBandConfig);this._oChart.xAxis[0].addPlotLine(this._estLineConfig)}},_markPeak:function(I,M){var Q,J,L,P,O,K;if(I&&this._config.markPeak){L=this._getCustomVar(I,this._config.timeZoneOffsetData);L=(L)?parseInt(L):parseInt(this._config.xOffset);J=F(I,this,M,L,[]);this._chartredrawEvent.unsubscribeAll();if(J){Q=this._oChart.yAxis[0].getExtremes().dataMax*1.1;if(Q){this._oChart.addSeries({type:"scatter",name:"peak",id:"peakSeries",color:"#f57131",showInLegend:false,data:[{x:J,y:Q}]})}}if(this._config.showLegend&&(J&&Q)){P=this;function N(R){P._chartredrawEvent.unsubscribe(K);J=F(I,P,M,L,["peakSeries"]);clearTimeout(O);O=setTimeout(function(){P._oChart.get("peakSeries").hide();if(J){Q=P._oChart.yAxis[0].getExtremes().dataMax*1.1;if(Q){P._oChart.get("peakSeries").setData([{x:J,y:Q}]);P._oChart.get("peakSeries").show()}}P._chartredrawEvent.subscribe(K)},0)}K=N;P._chartredrawEvent.subscribe(K)}}},_addNotes:function(J,O,M){var K,N,I=this._getNotes(),L;if(I){N=AKAMAI.base.cloneObject(this._notesConfig);for(K=0;K<I.event.length;K++){L=(parseInt(I.event[K].startDate)+M)*1000;if(L>=J&&L<=O){N.data.push({x:L,y:0,id:I.event[K].description,eventID:I.event[K].id})}}if(N.data.length){this._notesSeries=this._oChart.addSeries(N);this._loadAnnotationsData(I)}}},_loadAnnotationsData:function(I){var J="",L,K,M=n.getElementsByClassName("annotationsBox")[0];if(I&&M){for(L=0;L<I.event.length;L++){J+='<div class="annotation_item" id="annotation_item_'+I.event[L].id+'">'+I.event[L].description+"</div>"}M.innerHTML=J;K=n.getElementsByClassName("annotation_item","div",M);H.on(K,"click",this._clickAnnotation,this._notesSeries)}},_clickAnnotation:function(M,L){var J=this.parentNode,K,N,I=this.id.replace("annotation_item_","");for(K=0;K<J.children.length;K++){N=J.children[K];if(N===this){if(N.style.background==""){N.style.background="#FFFFCC";for(K=0;K<L.data.length;++K){if(L.data[K].eventID==I){L.data[K].select(true);break}}}else{N.style.background="";for(K=0;K<L.data.length;++K){if(L.data[K].eventID==I){L.data[K].select(false);break}}}}else{N.style.background=""}}},_generateBoxs:function(J){var R,M,K,O,S,I,N="",Q,L="",P;if(J){P=this._getCustomVar(J,this._config.timeZoneOffsetData);P=(P)?parseInt(P):parseInt(this._config.xOffset);I=J[this._config.boxRootData];if(I){R=this._config.boxIDs;M=R.join(" ");Q=(R?R.length:I.length);K=100/(R?R.length:I.length);K=K.toFixed(0);for(O=0;O<I.length;++O){S=I[O];if((!R||M.indexOf(S.id)>-1)&&S.type===this._config.boxType){L=!N?" first":"";N+='<p class="metric'+L+'"><span class="title">'+((S[this._config.boxTitleData])?S[this._config.boxTitleData]:"")+"</span>";N+='<span class="time">'+((S[this._config.timeData])?S[this._config.timeData]:"")+"</span>";N+='<span class="body">'+((S[this._config.boxValueData])?S[this._config.boxValueData]:"")+"</span>";N+='<span class="units">'+((S[this._config.boxUnitsData])?S[this._config.boxUnitsData]:"")+"</span></p>"}}if(N&&this._config.disclaimers){N+='<p class="disclaimer">';if(this._config.disclaimers[1]&&J[this._config.realTimeData]!=null&&J[this._config.realTimeData]<J[this._config.endData]){N+="<span>"+r.substitute(this._config.disclaimers[1],{estTime:p.dateFormat(this._config.disclaimersDateFormat,(parseInt(J[this._config.realTimeData])+P)*1000)})+"</span>"}N+="</p>"}if(!this._box){this._box=document.createElement("div");this._box.className="aui-boxes";this._container.appendChild(this._box)}this._box.innerHTML=N}}},_addResolution:function(M){var J,L,I,K=0;if(M){J=M[this._config.aggregateData];if(J&&this._config.showResolution){J=parseInt(J);L=document.createElement("span");L.className=this._config.resolutionClass;if(J<60){if(J===1){I=this._config.resolutionTemplates.secSingular}else{I=this._config.resolutionTemplates.secPlural}}else{if(J<3600){J=J/60;if(J%1){K=2}if(J===1){I=this._config.resolutionTemplates.minSingular}else{I=this._config.resolutionTemplates.minPlural}}else{J=J/3600;if(J%1){K=2}if(J===1){I=this._config.resolutionTemplates.hourSingular}else{I=this._config.resolutionTemplates.hourPlural}}}L.innerHTML=r.substitute(I,[p.numberFormat(J,K)]);this._svg.appendChild(L)}}}});function F(I,S,L,R,J){var X=S,P=X._oChart.series,T=L,O={},N="",M,W=0,U=0,Y=null,K,Q;if(X._oChart.options.plotOptions.series.stacking=="normal"){if(J&&r.isArray(J)&&J.length>0){for(Q=0;Q<J.length;Q++){O[J[Q]]=true}}for(Q=P.length-1;Q>=0;Q--){if(P[Q].visible&&!O[P[Q].options.id]){Y=P[Q];M=Q;break}}if(!Y&&typeof(Y)=="object"){return}K=Y.data.length;for(Q=0;Q<K;Q++){if(Y.data[Q].stackTotal>W){W=Y.data[Q].stackTotal;U=Q;try{N=Number(Y.data[Q].x)}catch(V){return}}}}else{for(Q=0;Q<T.length;Q++){if(P[Q].visible){if(I[X._config.rootColsData][T[Q]].max_value>W){W=I[X._config.rootColsData][T[Q]].max_value*1;M=T[Q];U=I[X._config.rootColsData][M].max_row;try{N=((Number(I[X._config.rootRowsData][U][X._config.rowColumnData][X._config.dateColumn]))*1000)+(R*1000)}catch(V){return}}}}}return N}function u(I){u.superclass.constructor.call(this,I);this._default=r.merge(this._default,{ammap_path:c+"/ui/lib/ammap/current/",area_active_only_if_value_set:"true",area_balloon_text:"{value} hits in {title}",area_color_hover:"f57131",area_color_light:"ffdb4b",area_color_solid:"a15836",area_disable_when_clicked:"true",background_alpha:"5",background_color:"ffffff",background_zooms_to_top:"true",balloon_alpha:"100",balloon_color:"114b65",balloon_enabled:"true",balloon_max_width:"30%",balloon_text_color:"ffffff",ballon_text_size:"12",data_index:1,developer_mode:"false",font:"Arial",loading_data:"LOADING DATA",loading_settings:"LOADING SETTINGS",rootColNameData:"columnName",rootColsData:"columns",rootRowsData:"rows",locale_index:3,map_class:"aui-map-container",mapFile:null,movie_balloon_text:"{title}",navigation_path_enabled:"false",preloader_color:"#999999",projection:"xy",rowColumnData:"data",small_map_enabled:"false",swf_color:"#ffffff",swf_file:c+"/ui/lib/ammap/current/ammap.swf",swf_height:null,swf_height_ratio:0.667,swf_id:"ammap",swf_version:8,swf_width:null,swf_wmode:"transparent",tbl_class:"aui-map-table",tbl_col_class:"aui-map-table-col",tbl_head_class:"aui-map-table-head",tbl_col1_class:"aui-locale",tbl_col2_class:"aui-data",text_box_corner_radius:"7",text_color:"000000",text_size:"11",title_color:"#000000",title_remain:"false",title_size:"18",title_text:"",title_x:"30",title_y:"!50",toggleID:null,toggleMapClass:"map-view",toggleTblClass:"table-view",zoom:"92.0238%",zoom_arrows_enabled:"false",zoom_enabled:"false",zoom_min:"80",zoom_mouse_wheel_enabled:"false",zoom_on_click:"false",zoom_outline_color:"ffffff",zoom_x:"13.06%",zoom_y:"3.81%",tableFixedHeader:false,generateTableHead:null,generateTableBody:null});this._map=null;this._settings="<settings><developer_mode>{developer_mode}</developer_mode><projection>{projection}</projection><font>{font}</font><text_size>{text_size}</text_size><text_color>{text_color}</text_color><background><color>{background_color}</color><alpha>{background_alpha}</alpha></background><zoom><enabled>{zoom_enabled}</enabled><arrows_enabled>{zoom_arrows_enabled}</arrows_enabled><outline_color>{zoom_outline_color}</outline_color><min>{zoom_min}</min><background_zooms_to_top>{background_zooms_to_top}</background_zooms_to_top><zoom_on_click>{zoom_on_click}</zoom_on_click><mouse_wheel_enabled>{zoom_mouse_wheel_enabled}</mouse_wheel_enabled></zoom><small_map><enabled>{small_map_enabled}</enabled></small_map><navigation_path><enabled>{navigation_path_enabled}</enabled></navigation_path><area><balloon_text>{area_balloon_text}</balloon_text><active_only_if_value_set>{area_active_only_if_value_set}</active_only_if_value_set><color_solid>{area_color_solid}</color_solid><color_light>{area_color_light}</color_light><color_hover>{area_color_hover}</color_hover><disable_when_clicked>{area_disable_when_clicked}</disable_when_clicked></area><movie><balloon_text>{movie_balloon_text}</balloon_text></movie><text_box><corner_radius>{text_box_corner_radius}</corner_radius></text_box><balloon><enabled>{balloon_enabled}</enabled><max_width>{balloon_max_width}</max_width><color>{balloon_color}</color><alpha>{balloon_alpha}</alpha><text_color>{balloon_text_color}</text_color><text_size>{ballon_text_size}</text_size></balloon></settings>";this._template='<map map_file="maps/{mapFile}" zoom="{zoom}" zoom_x="{zoom_x}" zoom_y="{zoom_y}"><areas/><labels><label x="{title_x}" y="{title_y}" text_size="{title_size}" color="{title_color}" remain="{title_remain}"><text>{title_text}</text></label></labels></map>';this._table=null;this._toggle=null;this.configClass="aui-map-config";this.configName="reportMap";this.type="aui-map";this._viewtoggleEvent=new YAHOO.util.CustomEvent("viewtoggle")}YAHOO.lang.extend(u,y,{_render:function(){var O,L,M,N=this._getData(),K=this._config.swf_width,I=this._config.swf_height,J=this;if(N&&this._config.mapFile){if(!K){L=n.getRegion(this._container);K=L.width;I=Math.round(K*this._config.swf_height_ratio)}if(!this._toggle){this._toggle=n.get(this._config.toggleID);if(this._toggle){H.on(this._toggle,"click",this._handleToggle,this);this._toggle.eTable=n.getElementsByClassName(this._config.toggleTblClass,"li",this._toggle)[0];this._toggle.eMap=n.getElementsByClassName(this._config.toggleMapClass,"li",this._toggle)[0];n.addClass(this._toggle.eMap,this._config.selectedClass);n.removeClass(this._toggle.eTable,this._config.selectedClass)}}O=new SWFObject(this._config.swf_file,this._config.swf_id,K,I,this._config.swf_version,this._config.swf_color);if(O&&O.installedVer&&O.installedVer.major>=this._config.swf_version){O.addParam("wmode",this._config.swf_wmode);this._drawMap(N,O);if(this._toggle&&!this._table){this._drawTable(N,true)}M=this._toggle&&n.hasClass(this._toggle.eTable,this._config.selectedClass);if(M){n.addClass(this._map,this._config.suppressClass);n.removeClass(this._table,this._config.suppressClass)}else{n.addClass(this._table,this._config.suppressClass);n.removeClass(this._map,this._config.suppressClass)}if(this._toggle){if(M){this._drawTable(N)}else{this._viewtoggleEvent.unsubscribeAll();this._viewtoggleEvent.subscribe(function(Q,P){if(P[0]=="table"){J._drawTable(N);J._viewtoggleEvent.unsubscribeAll()}})}}}else{n.addClass(this._toggle,this._config.suppressClass);this._drawTable(N)}this._generateCovers(N)}else{this._viewtoggleEvent.unsubscribeAll()}this._generateNote(N);n.removeClass(this._container,this._config.loadingClass)},_handleToggle:function(K,I){var J=H.getTarget(K),L=((J===I._toggle.eTable)||(J.parentNode===I._toggle.eTable));H.preventDefault(K);if(L){n.addClass(I._map,I._config.suppressClass);n.removeClass(I._table,I._config.suppressClass);n.removeClass(I._toggle.eMap,I._config.selectedClass);n.addClass(I._toggle.eTable,I._config.selectedClass)}else{n.addClass(I._table,I._config.suppressClass);n.removeClass(I._map,I._config.suppressClass);n.addClass(I._toggle.eMap,I._config.selectedClass);n.removeClass(I._toggle.eTable,I._config.selectedClass)}I._viewtoggleEvent.fire(L?"table":"map")},_drawMap:function(P,O){var N="<areas>",M,J,I,L=r.substitute(this._template,this._config),K=r.substitute(this._settings,this._config);if(P&&O){if(!this._map){this._map=document.createElement("div");this._map.className=this._config.map_class;n.generateId(this._map,this._config.map_class);this._container.appendChild(this._map)}this._map.innerHTML="";I=P[this._config.rootRowsData];for(M=0;M<I.length;++M){J=I[M];N+='<area mc_name="'+J[this._config.rowColumnData][this._config.locale_index]+'" title="'+J[this._config.rowColumnData][this._config.geoNameIndex||this._config.locale_index]+'" value="'+J[this._config.rowColumnData][this._config.data_index]+'"/>\n'}N+="</areas>";L=L.replace("<areas/>",N);O.addVariable("path",this._config.ammap_path);O.addVariable("loading_settings",this._config.loading_settings);O.addVariable("loading_data",this._config.loading_data);O.addVariable("preloader_color",this._config.preloader_color);O.addVariable("map_settings",escape(K));O.addVariable("map_data",escape(L));O.write(this._map.id)}},_drawTable:function(I,Q){var P,U,J=[],M=[],N,O,T,L,K;if(I){if(!this._table){this._table=document.createElement("div");this._table.className=this._config.tbl_class;this._container.appendChild(this._table)}if(Q){return}P=I[this._config.rootColsData];U=I[this._config.rootRowsData];function R(Y,V){var X="<tr>",Z=V.tbl_col1_class,W;for(W=0;W<Y.length;++W){X+='<th class="'+V.tbl_head_class+W+" "+Z+'">'+Y[W][V.rootColNameData]+"</th>";if(!W){Z=V.tbl_col2_class}}X+="</tr>";return X}function S(X,V){var Z="",aa,Y,W;for(Y=0;Y<X.length;++Y){aa=V.tbl_col1_class;aRow=X[Y];Z+="<tr>";for(W=0;W<aRow.length;++W){Z+='<td class="'+V.tbl_col_class+W+" "+aa+'">'+aRow[W]+"</td>";if(!W){aa=V.tbl_col2_class}}Z+="</tr>"}return Z}if(!this._config.columns||!this._config.columns.length){this._config.columns=[];this._config.columns.push(this._config.geoNameIndex!=undefined?this._config.geoNameIndex:this._config.locale_index);this._config.columns.push(this._config.data_index)}T=this._config.columns;if(P){for(L=0;L<T.length;L++){J.push(P[T[L]])}}if(U){for(L=0;L<U.length;++L){O=[];N=U[L];if(N[this._config.rowColumnData]){N=N[this._config.rowColumnData];for(K=0;K<T.length;K++){O.push(N[T[K]])}M.push(O)}}}o.call(this,{generateHeaderHTML:(this._config.generateTableHead&&window[this._config.generateTableHead])||R,generateBodyHTML:(this._config.generateTableBody&&window[this._config.generateTableBody])||S,caption:this._config.title_text,summary:this._config.title_text,container:this._table,rows:M,cols:J})}}});function o(I){(this._config.tableFixedHeader?w:E).call(this,I)}function w(R){var L="",M,Q,I,N,J,P,K="",O;L+='<table summary="'+((R.summary)?R.summary:"")+'" class="aui-headerholdertable">';L+=(R.caption?("<caption>"+R.caption+"</caption>"):"");K+="<colgroup>";for(O=0;O<(R.cols||[]).length;O++){K+="<col></col>"}K+="</colgroup>";L+=K+"<thead>";L+=R.generateHeaderHTML.call(null,R.cols||[],this._config);L+="</thead></table>";R.container.innerHTML=L;M=R.container.getElementsByTagName("table")[0].offsetHeight;n.addClass(R.container,"aui-tbl-fixedheader");L='<div class="aui-tbl-header-section"><div class="aui-header-content">'+R.container.innerHTML;L+='</div></div><div class="aui-tbl-body-section" style="top:'+M+'px;"><div class="aui-tbl-data-section" tabindex="-1">';L+='<table summary="'+((R.summary)?R.summary:"")+'" class="aui-dataholdertable">'+K+"<thead>";L+=R.generateHeaderHTML.call(null,R.cols||[],this._config);L+="</thead><tbody>";L+=R.generateBodyHTML.call(null,R.rows||[],this._config);L+="</tbody></table></div></div>";R.container.innerHTML=L;Q=n.getElementsByClassName("aui-tbl-data-section","div",R.container)[0];I=Q.getElementsByTagName("table")[0];J=n.getElementsByClassName("aui-tbl-header-section","div",R.container)[0].getElementsByTagName("table")[0];P=n.getElementsByClassName("aui-header-content","div",R.container)[0];N=I.getElementsByTagName("thead")[0].getElementsByTagName("tr")[0];stretchElem=document.createElement("div");stretchElem.className="stretcher";stretchElem.style.height=(I.offsetHeight+J.offsetHeight+3)+"px";R.container.appendChild(stretchElem);if(Q.offsetHeight<I.offsetHeight){Q.style.overflowY="auto";P.style.right=b+"px"}A(R.container)()}A=(function(){var I;return function(N){var O=n.getElementsByClassName("aui-tbl-data-section","div",N)[0],Q=O.getElementsByTagName("table")[0],M=n.getElementsByClassName("aui-tbl-header-section","div",N)[0].getElementsByTagName("table")[0],K=n.getElementsByClassName("aui-header-content","div",N)[0],P=Q.getElementsByTagName("thead")[0].getElementsByTagName("tr")[0],J=Q.getElementsByTagName("colgroup")[0],L=M.getElementsByTagName("colgroup")[0];return function(){I=setTimeout(function(){var T,W,S,U,V,R=0;if(P){if(YAHOO.env.ua.gecko>0){Q.style.width="100%"}W=P.getElementsByTagName("th");U=J.getElementsByTagName("col");S=L.getElementsByTagName("col");for(T=0;T<W.length;T++){V=W[T].clientWidth;S[T].style.cssText+="width:"+V+"px!important;";U[T].style.cssText+="width:"+V+"px!important;";R+=V}}O.onscroll=function(X){K.scrollLeft=this.scrollLeft}},0)}}})();function E(I){var J="";J+='<table summary="'+((I.summary)?I.summary:"")+'" class="aui-dataholdertable">';J+=(I.caption?("<caption>"+I.caption+"</caption>"):"")+"<thead>";J+=I.generateHeaderHTML.call(null,I.cols||[],this._config);J+="</thead><tbody>";J+=I.generateBodyHTML.call(null,I.rows||[],this._config);J+="</tbody></table>";I.container.innerHTML=J}function B(I){B.superclass.constructor.call(this,I);this._default=r.merge(this._default,{colFormats:null,columns:null,componentType:"table_component",footnote:null,footnoteClass:"aui-footnote",footnoteData:null,headData:"table_headers",idData:"id",includeID:null,rootData:"ui_components",rowsData:"table_component_rows",tbl_class:"aui-rpt-table",tbl_col_class:"aui-col",tbl_first_col_class:"aui-first-col",tbl_head_class:"aui-head",title:null,titleData:"table_name",typeData:"type",tableFixedHeader:false,generateTableHead:null,generateTableBody:null});this.configClass="aui-tbl-config";this.configName="reportTable";this.type="aui-table"}YAHOO.lang.extend(B,y,{_render:function(){var I=this._getData();if(r.isObject(this._config.rootData)){this._drawTableFromSchema(I)}else{this._drawTableFromComponent(I)}this._generateCovers(I);this._generateNote(I);n.removeClass(this._container,this._config.loadingClass)},_generateTable:function(J,Q,O,I){var L,R=this,K,N;function M(V,S){var U="<tr>",W=S.tbl_first_col_class,T;for(T=0;T<V.length;++T){U+='<th class="'+S.tbl_head_class+T+" "+W+'">'+V[T]+"</th>";W=""}U+="</tr>";return U}function P(U,S){var W="",X,V,T;for(V=0;V<U.length;++V){X=S.tbl_first_col_class;L=U[V];W+="<tr>";for(T=0;T<L.length;++T){W+='<td class="'+S.tbl_col_class+T+" "+X+'">'+R._formatCol(T,L[T])+"</td>";X=""}W+="</tr>"}return W}if(J&&J.length&&Q&&Q.length){this._container.innerHTML='<div id="" class="'+this._config.tbl_class+" col"+J.length+'"></div>';o.call(this,{generateHeaderHTML:(this._config.generateTableHead&&window[this._config.generateTableHead])||M,generateBodyHTML:(this._config.generateTableBody&&window[this._config.generateTableBody])||P,caption:O,summary:O,rows:Q,cols:J,container:this._container.firstChild});if(I){K=document.createElement("p");n.addClass(K,this._config.footnoteClass);K.innerHTML=I;this._container.appendChild(K)}}else{N=document.createElement("span");N.className=this._config.errRptClass;N.innerHTML=this._config.err204;this._container.innerHTML="";this._container.appendChild(N);n.addClass(this._container,this._config.errWidgetClass)}},_drawTableFromSchema:function(J){var N,M,T,P,O,R,K,L,I=[],S=[],Q;if(J&&this._config.rootData&&this._config.rootData.rows&&this._config.rootData.heads){T=J[this._config.rootData.rows];O=J[this._config.rootData.heads];R=J[this._config.titleData];if(!R&&this._config.title){R=this._config.title}if(this._config.footnoteData){K=J[this._config.footnoteData]}if(!K){K=this._config.footnote}if(T&&O&&T.length&&O.length){if(this._config.columns&&this._config.columns.length){for(N=0;N<this._config.columns.length;++N){L=O[this._config.columns[N]];if(L[this._config.headData]){L=L[this._config.headData]}I.push(L)}}else{for(N=0;N<O.length;++N){L=O[N];if(L[this._config.headData]){L=L[this._config.headData]}I.push(O[N])}}for(N=0;N<T.length;++N){Q=[];P=T[N];if(P[this._config.rowsData]){P=P[this._config.rowsData]}if(this._config.columns&&this._config.columns.length){for(M=0;M<this._config.columns.length;++M){Q.push(P[this._config.columns[M]])}}else{for(M=0;M<P.length;++M){Q.push(P[M])}}S.push(Q)}}}this._generateTable(I,S,R,K)},_drawTableFromComponent:function(K){var O,N,M,I,Q,V,R,P,T,L,J=[],U=[],S;if(K){I=K[this._config.rootData];for(O=0;O<I.length;++O){Q=I[O];if((!this._config.includeID||this._config.includeID==Q[this._config.idData])&&Q[this._config.typeData]===this._config.componentType){V=Q[this._config.rowsData];P=Q[this._config.headData];T=Q[this._config.titleData];if(!T){T=this._config.title}L=Q[this._config.footnoteData];if(!L){L=this._config.footnote}if(V&&P&&V.length&&P.length){if(this._config.columns&&this._config.columns.length){for(N=0;N<this._config.columns.length;++N){J.push(P[this._config.columns[N]])}}else{for(N=0;N<P.length;++N){J.push(P[N])}}for(N=0;N<V.length;++N){S=[];R=V[N];if(this._config.columns&&this._config.columns.length){for(M=0;M<this._config.columns.length;++M){S.push(R[this._config.columns[M]])}}else{for(M=0;M<R.length;++M){S.push(R[M])}}U.push(S)}}break}}this._generateTable(J,U,T,L)}},_formatCol:function(L,J){var N,I,K="%B %d %I:%M %p",M={decimals:0,decimalPoint:".",thousandsSep:"",prefix:null,suffix:null};if(L!=null&&J&&this._config.colFormats&&this._config.colFormats[L]){I=this._config.colFormats[L];N=I;if(r.isObject(I)){N=I.type}switch(N){case"float":J=parseFloat(J);break;case"int":J=parseInt(J);break;case"date":if(I.format){K=I.format}J=p.dateFormat(K,parseInt(J));break;case"number":if(I.format){M=r.merge(M,I.format)}J=parseFloat(J);J=p.numberFormat(J,M.decimals,M.decimalPoint,M.thousandsSep);J=(M.prefix)?M.prefix+J:J;J=(M.suffix)?J+M.suffix:J;break;default:break}}return J}});function l(){var J=n.getElementsByClassName("aui-report"),I;for(I=0;I<J.length;++I){if(!J[I].oReport){J[I].oReport=new m(J[I]);J[I].oReport._init();J[I].oWidget=J[I].oReport}}}function z(I){this._config=null;this._container=I;this._default={targetID:null,options:null,exportMenu:false,exportMenuLabel:"Export",suppressClass:"aui-suppress",selectClass:"aui-switchsel akam-select",exportClass:"akam-button aui-export"};this._export=null;this._select=null;this._target=null;this.configClass="aui-sw-config";this.configName="switcher";this.type="aui-switcher"}z.prototype={_init:function(L){var I,M,K,J;if(L){this._config=r.merge(this._default,L)}else{this._config=AKAMAI.base.getAUIConfigs(this._container,this.configClass,this.configName,this._default)}I=this._config.options;if(this._container){this._target=n.get(this._config.targetID);if(!this._target){this._target=this._container.getElementsByTagName("select")[0]}if(this._target){this._select=document.createElement("select");this._select.className=this._config.selectClass;for(J=0;J<I.length;++J){M=I[J];if(M.contentURL){M.contentURL=M.contentURL.replace(/&amp;/gi,"&")}if(M.dataURL){M.dataURL=M.dataURL.replace(/&amp;/gi,"&")}K=document.createElement("option");K.innerHTML=M.label;K.value=(M.value!=undefined&&M.value!="null")?M.value:M.label;K.selected=M.selected;this._select.appendChild(K)}if(this._config.exportMenu){this._export=document.createElement("button");this._export.className=this._config.exportClass;this._export.innerHTML=this._config.exportMenuLabel;if(this._export){n.addClass(this._export,this._config.exportClass);this._export.oDrop=new q(this._export);this._export.oDrop._init(I[this._select.selectedIndex].exportItems,this._target.oWidget);d(this._export.oDrop._menu,"_exportIFrameTarget")}}this._handleChange(null,this._container.oSwitch);H.on(this._select,"change",this._handleChange,this)}}},_handleChange:function(J,L){var I,K;if(J){H.stopEvent(J)}if(L&&L._target&&L._select&&L._config){I=L._config.options;if(I){K=I[L._select.selectedIndex];if(L._target.oWidget){n.addClass(L._select,L._config.suppressClass);n.insertBefore(L._select,L._target);L._target.oWidget._switch=L;if(L._target.oWidget.type==="aui-map"){L._target.oWidget._config.mapFile=K.map+".swf"}if(K.contentURL){n.addClass(L._target.oWidget._container,L._target.oWidget._config.loadingClass);L._target.oWidget.loadView(K.contentURL,K.urlArgs)}else{if(K.dataURL){L._target.oWidget._config.dataURL=K.dataURL;if(L._config.widgetID){L._target.oWidget._config.widgetID=L._config.widgetID}L._target.oWidget.update(K.urlArgs)}}if(L._export){L._export.oDrop._updateMenu(L._config.options[L._select.selectedIndex].exportItems);d(L._export.oDrop._menu,"_exportIFrameTarget")}}}}}};function G(I){this._cancel=null;this._codes=null;this._config=null;this._container=I;this._custom=null;this._default={visible:false,modal:true,close:true,underlay:"none",fixedcenter:true,context:["report","tl","bl"],targetID:"report",statusRangeID:"aui-daterange",statusCodesID:"aui-codes",allLabel:"All",customLabel:"Custom",suppressClass:"aui-suppress",dialogClass:"aui-dialog",preUpdateHandler:null,postUpdateHandler:null,allCPCodeFlag:null,openID:"report-change",emailID:"report-email",emailSectionClass:"aui-selector-email",xhrHeader:{label:"Content-Type",value:"application/json; charset=UTF-8"},xhrURL:"",emailTopLevel:["report-name","report-type","active-flag","report-format","recurrence","email-addresses"],filterListName:"filter-list",emailAddressData:"email-addresses",emailFormatID:"reportFormat",singleWidgetValue:"csv",widgetsID:"reportWidgets",errorID:"selectorErr",emailSuccessID:"emailSuccess",emailSuccessDelay:5000,customDateRangeUpdater:null,customCPCodeUpdater:null,};this._emailFormat=null;this._emailSuccess=null;this._endDate=null;this._endTime=null;this._error=null;this._ok=null;this._range=null;this._selector=null;this._send=null;this._startDate=null;this._startTime=null;this._stautsCodes=null;this._statusRange=null;this._target=[];this._widgets=null;this.configClass="aui-select-config";this.configName="selector";this.type="aui-selector"}G.prototype={_init:function(){var L,K,J,I;if(this._container){this._config=AKAMAI.base.getAUIConfigs(this._container,this.configClass,this.configName,this._default);this._widgets=n.get(this._config.widgetsID);n.addClass(this._container,this._config.dialogClass);n.removeClass(this._container,this._config.suppressClass);this._statusRange=n.get(this._config.statusRangeID);this._stautsCodes=n.get(this._config.statusCodesID);this._emailFormat=n.get(this._config.emailFormatID);this._emailSuccess=n.get(this._config.emailSuccessID);this._error=n.get(this._config.errorID);if(this._config.customValidation&&window[this._config.customValidation]){this._customValidation=window[this._config.customValidation]}if(!this._error&&this._config.errorID){L=n.getElementsByClassName("bd","div",this._container);if(L.length){K=document.createElement("p");n.addClass(K,"akam-error");n.addClass(K,this._config.suppressClass);K.id=this._config.errorID;L[0].insertBefore(K,L[0].firstChild);this._error=K}}this._selector=new YAHOO.widget.Panel(this._container,this._config);if(!AKAMAI.overlayManager){AKAMAI.overlayManager=new YAHOO.widget.OverlayManager()}AKAMAI.overlayManager.register(this._selector);this._selector.render(document.body);H.on(this._config.openID,"click",function(N,M){H.preventDefault(N);M._selector.show()},this);H.on(this._config.emailID,"click",function(N,M){H.preventDefault(N);n.addClass(M._container,M._config.emailSectionClass);M._selector.show()},this);this._cancel=n.getElementsByClassName("cancel-select","input",this._container)[0];H.on(this._cancel,"click",function(N,M){H.preventDefault(N);M._selector.hide()},this);this._selector.subscribe("hide",this._handleHide,this);this._ok=n.getElementsByClassName("ok-select","input",this._container)[0];this._send=n.getElementsByClassName("send-email","input",this._container)[0];this._codes=n.getElementsByClassName("cp-codes","select",this._container)[0];this._range=n.getElementsByClassName("date-range","select",this._container)[0];this._custom=n.getElementsByClassName("custom-check","input",this._container)[0];this._startDate=n.getElementsByClassName("start-date","input",this._container)[0];this._startTime=n.getElementsByClassName("start-time","select",this._container)[0];this._endDate=n.getElementsByClassName("end-date","input",this._container)[0];this._endTime=n.getElementsByClassName("end-time","select",this._container)[0];this._selects=this._container.getElementsByTagName("select");this._inputs=this._container.getElementsByTagName("input");this._textareas=this._container.getElementsByTagName("textarea");H.on(this._ok,"click",this._handleSubmit,this);if(this._send){H.on(this._send,"click",this._handleSubmit,this)}if(J=this._config.widgetFilterConfig){I=(this._widgets&&this._widgets.getElementsByTagName("input"))||[];(J.type&&(J.type=J.type.toLowerCase()))||(J.type="allow");(J.joinOperator&&(J.joinOperator=J.joinOperator.toLowerCase()))||(J.joinOperator=(J.type=="allow")?"and":"or");this._setEmailWidgetsBasedOnOptions=function(O){var N=e(J,O||this.getArgs()),M,P,Q;for(M=0;M<I.length;M++){Q=false;for(P=0;P<N.length;P++){if(N[P]==I[M].id){Q=true;break}}if(J.type=="deny"){if(Q){I[M].checked=false}YAHOO.util.Dom.setStyle(I[M].parentNode,"display",Q?"none":"")}else{if(!Q){I[M].checked=false}YAHOO.util.Dom.setStyle(I[M].parentNode,"display",Q?"":"none")}}};this._setEmailWidgetsBasedOnOptions()}this._handleCustom(null,this);H.on(this._custom,"click",this._handleCustom,this);H.on(this._selector.element,"click",function(M){H.stopPropagation(M)});if(this._emailFormat){H.on(this._emailFormat,"change",this._handleFormatChange,this);this._handleFormatChange(null,this)}AKAMAI.base.initValidation(this._container)}},_handleFormatChange:function(L,J){var K,I,M="checkbox";if(J._widgets){I=J._widgets.getElementsByTagName("input");if(J._emailFormat.options[J._emailFormat.selectedIndex].value===J._config.singleWidgetValue){M="radio"}for(K=0;K<I.length;++K){I[K].type=M}}},_handleHide:function(L,K,I){var J;if(I._startDate&&I._startDate.parentNode){J=I._startDate.parentNode;if(J.calendar){J.calendar.hide()}}if(I._endDate&&I._startDate.parentNode){J=I._endDate.parentNode;if(J.calendar){J.calendar.hide()}}n.removeClass(I._container,I._config.emailSectionClass);n.addClass(I._error,I._config.suppressClass);I._send.disabled=false},_handleCustom:function(J,I){if(I._range){I._range.disabled=I._custom.checked}if(I._startDate){I._startDate.disabled=!I._custom.checked}if(I._startTime){I._startTime.disabled=!I._custom.checked}if(I._endDate){I._endDate.disabled=!I._custom.checked}if(I._endTime){I._endTime.disabled=!I._custom.checked}},_handleSubmit:function(M,I){var L={},K,O,J,N;if(M){H.preventDefault(M)}if(I._target){n.addClass(I._error,I._config.suppressClass);if(I._error){I._error.innerHTML=""}if(this===I._send){if(!AKAMAI.base.validateForm(M,I._container)){return}I._send.disabled=true;L=I.getArgs(true);K=r.JSON.stringify(L);x.setDefaultPostHeader(false);if(I._config.xhrHeader&&I._config.xhrHeader.label&&I._config.xhrHeader.value){x.initHeader(I._config.xhrHeader.label,I._config.xhrHeader.value)}x.asyncRequest("POST",I._config.xhrURL,I,K)}else{I._runPreHandler();L=I.getArgs();O=I._validateSelector(L);if(!O.success){if(I._error){for(J=0;J<O.msgs.length;J++){N=document.createElement("div");N.innerHTML=O.msgs[J];I._error.appendChild(N);n.removeClass(I._error,I._config.suppressClass)}}return}else{n.addClass(I._error,I._config.suppressClass)}var J;for(J=0;J<I._target.length;++J){I._target[J].update(L)}I._runPostHandler();I._selector.hide()}}},_validateSelector:function(J){var K={success:true,msgs:[]},I;if(this._custom&&this._custom.checked){I=this._validateCustomDateFields();K.success=K.success&&I.success;if(I.msgs&&r.isArray(I.msgs)){K.msgs=K.msgs.concat(I.msgs)}}if(this._customValidation){I=this._customValidation.call(this,J);K.success=K.success&&I.success;if(I.msgs&&r.isArray(I.msgs)){K.msgs=K.msgs.concat(I.msgs)}}return K},_validateCustomDateFields:function(){var O=false,M=[],K,J,I,N,L;if(this._startDate&&this._startTime&&this._endDate&&this._endTime){I=AKAMAI.calendar.getDate(this._startDate);N=AKAMAI.calendar.getDate(this._endDate);if(I&&N){K=this._startTime.value.split(":");J=this._endTime.value.split(":");I.setHours(K[0]);I.setMinutes(K[1]);N.setHours(J[0]);N.setMinutes(J[1]);if(I-N<0){AKAMAI.calendar.clearCustomError(this._startDate);AKAMAI.calendar.clearCustomError(this._endDate);O=true}else{L="*Wrong Dates";if(AKAMAI.calendar){AKAMAI.calendar.throwCustomError(this._startDate,L);AKAMAI.calendar.throwCustomError(this._endDate,L)}else{alert(L)}M.push("Start Date should be prior to End Date.")}}else{if(AKAMAI.calendar){if(!I){AKAMAI.calendar.throwCustomError(this._startDate,"Enter Valid Date");M.push("Enter Valid Start Date")}if(!N){AKAMAI.calendar.throwCustomError(this._endDate,"Enter Valid Date");M.push("Enter Valid End Date")}}else{L="";L+=!I?"Enter Valid Start Date ":"";L+=!N?"Enter Valid End Date":"";alert(L)}}}else{O=true}return{success:O,msgs:M}},_runPreHandler:function(){var I;if(this._config.preUpdateHandler){I=window[this._config.preUpdateHandler];if(r.isFunction(I)){I.call(this)}}},_runPostHandler:function(){var I;if(this._config.postUpdateHandler){I=window[this._config.postUpdateHandler];if(r.isFunction(I)){I.call(this)}}},_updateCPCodes:function(I){var J;if(this._config.customCPCodeUpdater){J=window[this._config.customCPCodeUpdater];if(r.isFunction(J)){J.call(this)}}else{this._stautsCodes.innerHTML=I}},_updateDateRange:function(I){var J;if(this._config.customDateRangeUpdater){J=window[this._config.customDateRangeUpdater];if(r.isFunction(J)){J.call(this)}}else{this._statusRange.innerHTML=I}},register:function(I){this._target.push(I)},getArgs:function(Q){var O,N,V,K={},T=[],W=[],J,M,U,R,I={},P={},L,S;if(this._codes){V=this._codes.options;for(O=0;O<V.length;++O){if(V[O].selected){T.push(V[O].value);W.push(V[O].text)}}if(T.length){if(Q){K[this._codes.name]=T}else{K[this._codes.name]=T.toString()}}if(this._stautsCodes){S=n.getElementsByClassName("aui-cpcode-selector","div",this._container)[0];L=(S&&S.selector&&S.selector._getTotalNumberOfCPCodes())||V.length;if(W.length===1){this._updateCPCodes(W.toString())}else{if(W.length===L){this._updateCPCodes(this._config.allLabel);if(this._config.allCPCodeFlag){K[this._codes.name]=this._config.allCPCodeFlag}}else{this._updateCPCodes(this._config.customLabel)}}}}M=(this._custom)?this._custom.checked:false;if(M){if(this._startDate){K[this._startDate.name]=this._startDate.value}if(this._startTime){K[this._startTime.name]=this._startTime.options[this._startTime.selectedIndex].value}if(this._endDate){K[this._endDate.name]=this._endDate.value}if(this._endTime){K[this._endTime.name]=this._endTime.options[this._endTime.selectedIndex].value}if(this._statusRange){this._updateDateRange(this._config.customLabel)}}else{if(this._range){J=this._range.options[this._range.selectedIndex].value.split(",");if(J&&J.length===2){U=J[0].split(":");if(U&&U.length===2){if(this._startDate){K[this._startDate.name]=U[0]}if(this._startTime){K[this._startTime.name]=U[1]}}U=J[1].split(":");if(U&&U.length===2){if(this._endDate){K[this._endDate.name]=U[0]}if(this._endTime){K[this._endTime.name]=U[1]}}}if(this._statusRange){this._updateDateRange(this._range.options[this._range.selectedIndex].text)}}}for(O=0;O<this._selects.length;++O){R=this._selects[O];if(R===this._codes||R===this._range||R===this._startTime||R===this._endTime){continue}if(R.multiple){T=[];V=R.options;for(N=0;N<V.length;++N){if(V[N].selected){T.push(V[N].value)}}if(T.length){if(Q){K[R.name]=T}else{K[R.name]=T.toString()}}}else{if(R.selectedIndex>-1){K[R.name]=R.options[R.selectedIndex].value}}}for(O=0;O<this._inputs.length;++O){R=this._inputs[O];if(R===this._cancel||R===this._ok||R==this._custom||R==this._startDate||R===this._endDate){continue}if(R.type==="button"||R.type==="submit"||R.type==="reset"){continue}if((R.type==="checkbox"||R.type==="radio")&&!R.checked){continue}if(R.name){if(I[R.name]){I[R.name].push(R.value)}else{I[R.name]=[R.value]}}}for(O in I){if(r.hasOwnProperty(I,O)){R=I[O];if(R.length===1||!Q){R=R.toString()}K[O]=R}}for(O=0;O<this._textareas.length;++O){R=this._textareas[O];K[R.name]=R.value}if(Q){P[this._config.filterListName]=[];for(O in K){if(r.hasOwnProperty(K,O)){if(O===this._config.emailAddressData){K[O]=K[O].split(/[\s,;]+/)}R=K[O];if(this._config.emailTopLevel.indexOf(O)>-1){P[O]=R}else{P[this._config.filterListName].push({key:O,values:(r.isArray(R))?R:[R]})}}}K=P}return K},success:function(I){this._selector.hide();if(this._emailSuccess){n.removeClass(this._emailSuccess,this._config.suppressClass);r.later(this._config.emailSuccessDelay,this,function(){if(this._emailSuccess){n.addClass(this._emailSuccess,this._config.suppressClass)}})}},failure:function(I){var J,L;try{J=r.JSON.parse(I.responseText)}catch(K){}if(J&&this._error){try{L=r.JSON.parse(J.error)}catch(K){}if(L&&L.message){this._error.innerHTML=L.message;n.removeClass(this._error,this._config.suppressClass)}}if(this._send){this._send.disabled=false}}};function C(){var I,K,J=n.getElementsByClassName("aui-report-selector");for(I=0;I<J.length;++I){K=J[I];if(!K.oSelector){K.oSelector=new G(K);K.oSelector._init()}}}function D(I){this._config=null;this._container=I;this._default={close:false,context:[null,"tr","br",["windowResize","beforeShow"]],dataURL:null,fixedcenter:false,modal:false,suppressClass:"aui-suppress",targetID:null,triggerID:null,underlay:"none",visible:false};this._filter=null;this._focused=null;this._inputs=[];this._selects=[];this._target=null;this._textareas=[];this._trigger=null;this.configClass="aui-filter-config";this.configName="filter";this.type="aui-filter"}D.prototype={_init:function(){var K,L,J,I;if(this._container){this._config=AKAMAI.base.getAUIConfigs(this._container,this.configClass,this.configName,this._default);if(this._config.dataURL){this._config.dataURL=this._config.dataURL.replace(/&amp;/gi,"&")}if(this._config.triggerID){n.removeClass(this._container,this._config.suppressClass);this._trigger=n.get(this._config.triggerID);if(this._trigger){this._config.context[0]=this._trigger;this._filter=new YAHOO.widget.Panel(this._container,this._config);if(!AKAMAI.overlayManager){AKAMAI.overlayManager=new YAHOO.widget.OverlayManager()}AKAMAI.overlayManager.register(this._filter);this._filter.render(document.body);L=n.getElementsByClassName("north-arrow","div",this._container)[0];J=n.getElementsByClassName("north-arrow-inner","div",this._container)[0];K=n.getRegion(this._trigger);if(K&&L&&J){n.setStyle(L,"right",((K.width/2)-16)+"px");n.setStyle(J,"right",((K.width/2)-14)+"px")}this._inputs=this._container.getElementsByTagName("input");this._selects=this._container.getElementsByTagName("select");this._textareas=this._container.getElementsByTagName("textarea");this._button=n.getElementsByClassName("akam-submit","input",this._container)[0];this._target=n.get(this._config.targetID);if(this._inputs&&this._inputs.length){for(I=0;I<this._inputs.length;++I){if(this._inputs[I].type==="text"){this._focused=this._inputs[I];break}}}if(!this._focused&&this._textareas&&this._textareas.length){this._focused=this._textareas[0]}H.on(this._trigger,"click",this._handleMenu,this);H.on(document.body,"click",this._handleMenu,this);if(this._inputs&&this._inputs.length){for(I=0;I<this._inputs.length;++I){if(this._inputs[I].type==="button"||this._inputs[I]==="submit"){this._button=this._inputs[I];H.on(this._button,"click",this._handleFilter,this);break}}}}}}},_handleMenu:function(K,L){var M,J,I=H.getTarget(K);if(I===L._trigger){H.stopEvent(K);if(L._filter.cfg.getProperty("visible")){L._filter.hide()}else{L._filter.show();if(L._focused){L._focused.focus()}}}else{if(I.tagName.toLowerCase()!=="option"&&I.tagName.toLowerCase()!=="select"){J=new YAHOO.util.Point(H.getPageX(K),H.getPageY(K));M=n.getRegion(L._filter.element);if(!M.contains(J)){L._filter.hide()}}}},_handleFilter:function(K,L){var I,J={};if(L){for(I=0;I<L._inputs.length;++I){switch(L._inputs[I].type){case"radio":case"checkbox":J[L._inputs[I].name]=((L._inputs[I].checked)?L._inputs[I].value:"");break;default:J[L._inputs[I].name]=L._inputs[I].value;break}}if(L._selects&&L._selects.length){for(I=0;I<L._selects.length;++I){J[L._selects[I].name]=L._selects[I].options[L._selects[I].selectedIndex].value}}if(L._textareas&&L._textareas.length){for(I=0;I<L._textareas.length;++I){J[L._textareas[I].name]==L._textareas[I].value}}g._setActualData(J);L._target.oWidget.update(J,L._config.dataURL);L._filter.hide();H.preventDefault(K)}},};function q(I){this._config=null;this._container=I;this._default={close:false,context:[null,"tr","br",["windowResize","beforeShow"]],menuClass:"aui-dropmenu",suppressClass:"aui-suppress",targetClass:"aui-target",underlay:"none",visible:false};this._menu=null;this._panel=null;this._target=null;this._widget=null;this.configClass="aui-drop-config";this.configName="dropmenu";this.type="aui-drop"}q.prototype={_init:function(J,I){if(this._container){this._config=AKAMAI.base.getAUIConfigs(this._container,this.configClass,this.configName,this._default);if(J){this._widget=I;this._target=this._container;this._buildMenu(J)}else{this._target=n.getElementsByClassName(this._config.targetClass,"button",this._container)[0];this._menu=n.getElementsByClassName(this._config.menuClass,"ul",this._container)[0]}this._config.context[0]=this._target;YAHOO.widget.Panel.prototype._focusOnShow=function(L,K,M){};this._panel=new YAHOO.widget.Panel(this._menu,this._config);n.removeClass(this._menu,this._config.suppressClass);this._panel.render(document.body);H.on(this._target,"click",this._handleMenu,this);H.on(document.body,"click",this._handleMenu,this)}},_buildMenu:function(I){this._menu=document.createElement("ul");this._menu.className=this._config.menuClass;this._updateMenu(I);H.on(this._menu,"click",this._processURL,this._widget)},_updateMenu:function(I){var L,K,J;this._menu.innerHTML="";for(L=0;L<I.length;++L){K=document.createElement("li");J=document.createElement("a");J.href=I[L].url;J.sTemplate=I[L].url.replace(/&amp;/gi,"&");J.innerHTML=I[L].label;K.appendChild(J);this._menu.appendChild(K)}},_processURL:function(L,I){var J=H.getTarget(L);if(I){try{g._setPanelContext((I._export&&I._export.id)||(I._switch&&I._switch._export)||"")}catch(K){}J.href=I._substituteArgs(J.sTemplate)}},_handleMenu:function(L,K){var M,J,I=H.getTarget(L);if(I===K._target){H.stopEvent(L);if(K._panel.cfg.getProperty("visible")){K._panel.hide()}else{K._panel.show()}}else{J=new YAHOO.util.Point(H.getPageX(L),H.getPageY(L));M=n.getRegion(K._panel.element);if(!M.contains(J)||I.tagName.toLowerCase()==="a"){K._panel.hide()}}}};function s(){var I,J=YAHOO.util.Dom.getElementsByClassName("aui-drop");for(I=0;I<J.length;++I){if(!J[I].oDrop){J[I].oDrop=new q(J[I]);J[I].oDrop._init()}}}function t(){n=YAHOO.util.Dom;H=YAHOO.util.Event;r=YAHOO.lang;x=YAHOO.util.Connect;p=Highcharts;AKAMAI.base.addYUISkinClass();var I=document.createElement("iframe");I.setAttribute("name","_exportIFrameTarget");I.setAttribute("id","_exportIFrameTarget");I.style.display="none";document.body.appendChild(I);C();l();s()}this.init=function(){var I=(typeof(jQuery)=="function"&&typeof(jQuery.isArray)=="function");if(YAHOO.util.YUILoader){Loader=new YAHOO.util.YUILoader({base:c+"/ui/lib/yui/current/",loadOptional:false,timeout:10000,combine:false,onSuccess:t});if(!I){Loader.addModule({name:"jquery",type:"js",fullpath:c+"/ui/lib/jquery/current/jquery.min.js",varName:"jQuery"})}Loader.addModule({name:"highcharts",type:"js",fullpath:c+"/ui/lib/charts/current/highcharts.js",varName:"Highcharts",requires:I?[]:["jquery"]});Loader.addModule({name:"swf",type:"js",fullpath:c+"/ui/lib/ammap/current/swfobject.js",varName:"SWFObject"});Loader.require("highcharts","swf");Loader.insert(null,"js")}else{YAHOO.util.Event.onDOMReady(t,this,true)}}}function i(){if((typeof AKAMAI=="undefined")||!AKAMAI){YAHOO.lang.later(1000,this,i)}else{if((typeof AKAMAI.reporting=="undefined")||!AKAMAI.reporting){AKAMAI.reporting=new k();AKAMAI.reporting.init()}}}if(((typeof AKAMAI=="undefined")||!AKAMAI)&&YAHOO.util.YUILoader&&!YAHOO.AUILoader){YAHOO.AUILoader=new YAHOO.util.YUILoader({base:c+"/ui/lib/yui/current/",loadOptional:false,timeout:10000,combine:false,onSuccess:function(){AKAMAI.reporting=new k();AKAMAI.reporting.init()}});YAHOO.AUILoader.addModule({name:"akamai",type:"js",fullpath:c+"/ui/lib/aui/current/akamai.js",varName:"AKAMAI",requires:["yahoo","dom","event","json"]});YAHOO.AUILoader.require("akamai");YAHOO.AUILoader.insert(null,"js")}else{if(((typeof AKAMAI=="undefined")||!AKAMAI)&&YAHOO.util.YUILoader&&YAHOO.AUILoader){YAHOO.lang.later(1000,this,i)}else{if(!AKAMAI.reporting){AKAMAI.reporting=new k();AKAMAI.reporting.init()}}}function h(){this._actualData={};this._context=""}h.prototype={_setActualData:function(l){this._actualData=l},_getActualData:function(){return this._actualData},_setPanelContext:function(l){this._context=l},_getPanelContext:function(){return this._context}};var g=new h()}})();